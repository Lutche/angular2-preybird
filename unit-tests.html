<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <title>Programmer Per's Unit Tests</title>
        <link rel="stylesheet" href="node_modules/jasmine-core/lib/jasmine-core/jasmine.css">
        <script src="node_modules/jasmine-core/lib/jasmine-core/jasmine.js"></script>
        <script src="node_modules/jasmine-core/lib/jasmine-core/jasmine-html.js"></script>
        <script src="node_modules/jasmine-core/lib/jasmine-core/boot.js"></script>
    </head>

    <body>
        <script src="node_modules/es6-shim/es6-shim.min.js"></script>
        <script src="node_modules/systemjs/dist/system-polyfills.js"></script>
        <script src="node_modules/angular2/es6/dev/src/testing/shims_for_IE.js"></script>
        <script src="node_modules/angular2/bundles/angular2-polyfills.js"></script>
        <script src="node_modules/systemjs/dist/system.src.js"></script>
        <script src="node_modules/rxjs/bundles/Rx.js"></script>
        <script src="node_modules/angular2/bundles/angular2.dev.js"></script>
        <script src="node_modules/angular2/bundles/router.dev.js"></script>

        <script>
            System.config({
                map: {
                    'card.component': 'app/card/card.component',

                    'app.component': 'app/app.component',

                    'about.component': 'app/per/about.component',

                    'cv.component': 'app/cv/cv.component',
                    'cv-detail.component': 'app/cv/cv-detail.component',

                    'icon.component': 'app/icon/icon.component',

                    'home.component': 'app/home/home.component',

                    'navigation.component': 'app/navigation/navigation.component',
                    'navigation.service': 'app/navigation/navigation.service',
                    'navigation.mocks': 'app/navigation/navigation.mocks',

                    'portfolio.component': 'app/portfolio/portfolio.component',
                    'project-detail.component': 'app/portfolio/project-detail.component',
                    'portfolio.service': 'app/portfolio/portfolio.service',
                    'portfolio.mocks': 'app/portfolio/portfolio.mocks',

                    'skills-detail.component': 'app/skills/skills-detail.component',
                    'skills.component': 'app/skills/skills.component',
                    
                    'social-detail.component': 'app/social/social-detail.component',
                    'social.component': 'app/social/social.component',

                    'angular2': "node_modules/angular2",
                    'rxjs': "node_modules/rxjs"
                },

                defaultJSExtensions: true,

                packages: {
                    'app': {
                        format: 'register',
                        defaultExtension: 'js'
                    }
                }
            });

            // #3. Import the spec files explicitly
            // TODO: Import buncdle
            Promise.all([
                        System.import('app/card/card.component.spec'),
                        System.import('app/cv/cv.component.spec'),
                        System.import('app/cv/cv-detail.component.spec'),
                        System.import('app/home/home.component.spec'),
                        System.import('app/icon/icon.component.spec'),
                        System.import('app/navigation/navigation.component.spec'),
                        System.import('app/navigation/navigation.service.spec'),
                        System.import('app/per/about.component.spec'),
                        System.import('app/portfolio/portfolio.component.spec'),
                        System.import('app/portfolio/portfolio.service.spec'),
                        System.import('app/portfolio/project-detail.component.spec'),
                        System.import('app/skills/skills.component.spec'),
                        System.import('app/skills/skills-detail.component.spec'),
                        System.import('app/social/social.component.spec'),
                        System.import('app/social/social-detail.component.spec'),
                        System.import('app/app.component.spec')
                    ])

                    //     Wait for all imports to load ...
                    //     then re-execute `window.onload` which
                    //     triggers the Jasmine test-runner start
                    //     or explain what went wrong.
                    .then(window.onload)
                    .catch(console.error.bind(console));
        </script>
    </body>
</html>